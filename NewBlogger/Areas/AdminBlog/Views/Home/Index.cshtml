@using NewBlogger.Dto
@{
    var tags = ViewData["Tags"] as IList<TagDto>;

    var categorys = ViewData["Categorys"] as IList<CategoryDto>;
}

<html>
    <head>
       <style>
            .divfloat{
                float:left
            }
       </style>
    </head>

    <body style="width:100%">
        <div id="tags" class="divfloat" style="border-color:royalblue;border-style:dashed;width:25%">
            <div style="margin-top:10px;margin-left:10px">
                <i>标签：</i><input type="text" id="tagName" width=100px> <button id="addTag">添加</button>    
            </div>
            <div style="width:auto;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;">
                <table border="1" style="width:100%">
                    <thead>
                        <tr>
                            <td style="width:50%">标题</td>
                            <td style="width:50%">操作</td>                            
                        </tr>
                    </thead>
                     <tbody>
                        @if(tags.Any())
                        {
                            foreach(var tag in tags)
                            {
                                <tr>
                                    <td>@tag.Name</td>
                                    <td><a href="javascript:void(0)" onclick="removeTag('@tag.Id')">删除</a></td>
                                </tr>
                            }
                        }else
                        {
                            <tr>
                                <td colspan="2" style="text-align:center">暂无数据</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div id="categorys" class="divfloat" style="border-color:royalblue;border-style:dashed;width:25%;margin-left:10px">
              <div style="margin-top:10px;margin-left:10px">
                <i>类别：</i><input type="text" id="categoryName" width=100px> <button id="addCategory">添加</button>    
              </div>
                <div style="width:auto;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;">
                <table border="1" style="width:100%">
                    <thead>
                        <tr>
                            <td style="width:50%">标题</td>
                            <td style="width:50%">操作</td>                            
                        </tr>
                    </thead>
                     <tbody>
                        @if(categorys.Any())
                        {
                            foreach(var category in categorys)
                            {
                                <tr>
                                    <td>@category.Name</td>
                                    <td><a href="javascript:void(0)" onclick="removeCategory('@category.Id')">删除</a></td>
                                </tr>
                            }
                        }else
                        {
                            <tr>
                                <td colspan="2" style="text-align:center">暂无数据</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>
<script src="@Url.Content("~/js/jquery.min.js")"></script>
<script>
    $(function(){
        //添加标签
        $('#addTag').on('click',function(){
               var tagName= $('#tagName').val();
               $.post('@Url.Action("AddTag","Home")',{tagName:tagName},function(){
                    location.reload();
               })
        });

        //添加类别
        $('#addCategory').on('click',function(){
            var categoryName = $('#categoryName').val();
            $.post('@Url.Action("AddCategory","Home")',{categoryName:categoryName},function(){
                location.reload();
            })
        });
    })

    function removeTag(tagId){
        
    }
</script>